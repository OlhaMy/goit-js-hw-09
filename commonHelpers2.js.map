{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet dataForm = {\n  email: '',\n  message: '',\n};\n\nfunction saveToLs(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nfunction loadFromLs(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return null;\n  }\n}\n\nform.addEventListener('input', e => {\n  dataForm.email = form.elements.email.value;\n  dataForm.message = form.elements.message.value;\n  saveToLs(STORAGE_KEY, dataForm);\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  if (!email || !message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(dataForm);\n\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n  dataForm = { email: '', message: '' };\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const userData = loadFromLs(STORAGE_KEY);\n\n  if (userData) {\n    dataForm = userData;\n    form.elements.email.value = userData.email || '';\n    form.elements.message.value = userData.message || '';\n  }\n});\n"],"names":["form","STORAGE_KEY","dataForm","saveToLs","key","value","json","loadFromLs","email","message","userData"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEpB,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQD,EAAKE,CAAI,CAChC,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAME,EAAO,aAAa,QAAQF,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAME,CAAI,CAEhC,MAAU,CACN,OAAO,IACR,CACH,CAEAN,EAAK,iBAAiB,QAAS,GAAK,CAClCE,EAAS,MAAQF,EAAK,SAAS,MAAM,MACrCE,EAAS,QAAUF,EAAK,SAAS,QAAQ,MACzCG,EAASF,EAAaC,CAAQ,CAChC,CAAC,EAEDF,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAEhB,MAAMQ,EAAQR,EAAK,SAAS,MAAM,MAAM,OAClCS,EAAUT,EAAK,SAAS,QAAQ,MAAM,OAE5C,GAAI,CAACQ,GAAS,CAACC,EAAS,CACtB,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIP,CAAQ,EAEpB,aAAa,WAAWD,CAAW,EACnCD,EAAK,MAAK,EACVE,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMQ,EAAWH,EAAWN,CAAW,EAEnCS,IACFR,EAAWQ,EACXV,EAAK,SAAS,MAAM,MAAQU,EAAS,OAAS,GAC9CV,EAAK,SAAS,QAAQ,MAAQU,EAAS,SAAW,GAEtD,CAAC"}